# New Feature - 새 기능 개발 오케스트레이터

> **Shaul Corporation 원칙 적용**
>
> 모든 협업은 [COMPANY_PRINCIPLES.md](../COMPANY_PRINCIPLES.md)의 원칙을 따릅니다.
> - **One Team**: 부서를 넘어 하나의 팀으로 협력
> - **Best Decision**: 데이터와 근거 기반 의사결정
> - **Excellence**: 최고의 결과물 추구
> - **우선순위**: 회사 전체 이익 > 팀 이익 > 개인 편의

새로운 기능 개발을 위해 모든 팀이 협력하여 계획을 수립합니다.

## 실행 단계

### 1단계: 기능 요구사항 수집

사용자에게 다음 정보를 질문하세요:

1. **기능명**: 간단한 기능 이름 (예: file-upload, notifications)
2. **기능 설명**: 무엇을 구현해야 하는지 상세 설명
3. **우선순위**: 높음/중간/낮음

인자로 기능명이 제공된 경우: $ARGUMENTS
제공되지 않은 경우 AskUserQuestion 도구를 사용하세요.

### 2단계: 코드베이스 탐색

Task 도구 (subagent_type: Explore)를 사용하여:
- 프로젝트 구조 파악
- 기존 유사 기능 패턴 분석
- 관련 모듈 및 의존성 확인

### 3단계: 팀별 병렬 논의

**중요**: 4개의 Task를 반드시 **단일 메시지에서 병렬로** 실행하세요.

#### Agent 1: Backend Architect
```
프롬프트:
당신은 Backend Architect입니다.
새 기능 "<기능명>"에 대해 다음을 설계하세요:

1. 시스템 아키텍처
   - 모듈 구조
   - 데이터 흐름

2. 데이터베이스 설계
   - 필요한 Entity
   - 관계 정의
   - 인덱스 계획

3. API 설계
   - 엔드포인트 목록
   - 요청/응답 스키마
   - 에러 코드

4. 기술적 고려사항
   - 의존성
   - 성능 고려
   - 확장성

출력: 마크다운 형식의 설계 문서
```

#### Agent 2: DevOps Infra
```
프롬프트:
당신은 DevOps 엔지니어입니다.
새 기능 "<기능명>"에 대해 다음을 계획하세요:

1. 환경 변수
   - 필요한 새 환경 변수
   - 환경별 설정값

2. 인프라 요구사항
   - 추가 서비스 (S3, SQS 등)
   - 리소스 요구사항

3. 배포 계획
   - 마이그레이션 필요 여부
   - 배포 순서
   - 롤백 계획

4. 모니터링
   - 추가할 메트릭
   - 알림 설정

출력: 마크다운 형식의 DevOps 계획
```

#### Agent 3: QA Tester
```
프롬프트:
당신은 QA 테스터입니다.
새 기능 "<기능명>"에 대해 다음을 계획하세요:

1. 테스트 전략
   - 단위 테스트 범위
   - 통합 테스트 범위
   - E2E 테스트 시나리오

2. 테스트 케이스
   - 정상 케이스
   - 엣지 케이스
   - 에러 케이스

3. 성능 기준
   - 응답 시간 목표
   - 처리량 목표

4. 검증 체크리스트

출력: 마크다운 형식의 테스트 계획
```

#### Agent 4: Security Auditor
```
프롬프트:
당신은 Security Auditor입니다.
새 기능 "<기능명>"에 대해 다음을 검토하세요:

1. 보안 요구사항
   - 인증/인가 필요 여부
   - 데이터 암호화

2. OWASP 체크리스트
   - 적용 가능한 항목
   - 필요한 보안 조치

3. 취약점 예방
   - 잠재적 취약점
   - 권장 보안 패턴

4. 보안 테스트 시나리오

출력: 마크다운 형식의 보안 검토서
```

### 4단계: 종합 계획 수립

팀별 결과를 통합하여 다음 문서를 생성하세요:

1. `docs/features/<기능명>/README.md`
   - 기능 개요
   - 주요 기능
   - 사용 방법

2. `docs/features/<기능명>/api-reference.md`
   - API 엔드포인트
   - 요청/응답 예시

3. `docs/features/<기능명>/implementation-plan.md`
   - Backend 계획
   - DevOps 계획
   - QA 계획
   - Security 계획
   - 작업 우선순위
   - 체크리스트

### 5단계: Todo 목록 생성

TodoWrite 도구를 사용하여 구현 작업 목록을 생성하세요.

## 주의사항

- 각 팀 Agent는 반드시 **병렬로** 실행하세요 (단일 메시지, 다중 Task 호출)
- 문서는 `docs/features/<기능명>/` 디렉토리에 생성하세요
- 기존 프로젝트 패턴을 따르세요
- 한국어로 문서를 작성하세요
