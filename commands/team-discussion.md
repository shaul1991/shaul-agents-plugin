# Team Discussion - 팀 간 협업 토론 오케스트레이터

> **Shaul Corporation 원칙 적용**
>
> 모든 토론은 [COMPANY_PRINCIPLES.md](../COMPANY_PRINCIPLES.md)의 원칙을 따릅니다.
> - **One Team**: 부서를 넘어 하나의 팀으로 협력
> - **Best Decision**: 데이터와 근거 기반 의사결정
> - **Excellence**: 최고의 결과물 추구
> - **우선순위**: 회사 전체 이익 > 팀 이익 > 개인 편의

여러 팀이 하나의 의제에 대해 토론하고, 의견을 교환하며, 충돌을 해결하고 합의에 도달합니다.

## 실행 단계

### 1단계: 의제 설정

사용자에게 다음 정보를 AskUserQuestion으로 수집하세요:

1. **토론 주제**: 논의할 의제 (예: 마이크로서비스 전환, 기술 스택 선정)
2. **참여 팀**: 다중 선택 가능
   - 경영진: CEO, CTO, CFO, COO, CPO, CMO, CISO, CDO, CIO, CHRO
   - 개발: Backend, Frontend, Mobile, Data/AI, DBA
   - 디자인: Design, UX-UI
   - 운영: DevOps, SRE, Infra, Security
   - 품질/문서: QA, Docs, PM
3. **결정 유형**: 기술/전략/운영/보안/긴급

인자로 의제가 제공된 경우: $ARGUMENTS

### 2단계: 1차 의견 수집 (병렬)

**중요**: 선택된 모든 팀의 Task를 **단일 메시지에서 병렬로** 실행하세요.

각 팀에게 다음 형식으로 의견을 요청:

```
프롬프트:
당신은 [팀명] 입니다.
의제 "[토론 주제]"에 대해 다음을 분석하세요:

1. 현재 상황 분석
   - 현황 파악
   - 문제점/기회

2. 제안 사항
   - 권장 방향
   - 구체적 제안

3. 우려 사항
   - 잠재적 위험
   - 고려할 점

4. 필요 리소스
   - 인력/시간/비용

출력: 마크다운 형식의 의견서
```

### 3단계: 충돌 분석

수집된 의견을 분석하여 다음을 정리:

```markdown
## 충돌 분석

### ✅ 일치하는 의견
- [팀들이 동의하는 사항]

### ⚠️ 상충하는 의견
| 주제 | 팀 A 의견 | 팀 B 의견 | 충돌 유형 |
|------|----------|----------|----------|
| - | - | - | 비용/일정/기술/방향 |

### 🔧 보완 필요 사항
- [추가 검토가 필요한 영역]
```

### 4단계: 크로스 리뷰 (병렬)

**중요**: 충돌이 감지된 경우, 각 팀에게 다른 팀 의견에 대한 피드백을 **병렬로** 요청하세요.

```
프롬프트:
당신은 [팀 A] 입니다.
[팀 B]의 다음 의견에 대해 피드백을 제공하세요:

[팀 B의 의견 요약]

피드백 유형:
- ✅ 동의: 지지하는 이유
- ⚠️ 보완 제안: 수정/추가 제안
- ❌ 반대: 반대 이유 및 대안 제시

출력: 구체적인 피드백
```

### 5단계: 합의 도출

피드백을 종합하여 최종 결론 정리:

```markdown
## 최종 합의

### ✅ 합의된 사항
1. [결정 사항 1]
2. [결정 사항 2]

### ⏸️ 미합의 사항 (추가 논의 필요)
- [미결정 사항]

### 📋 후속 조치
| 담당 팀 | 작업 | 기한 |
|---------|------|------|
| - | - | - |
```

### 6단계: 결과 문서화

다음 문서를 생성하세요:

1. `docs/discussions/[의제명]/README.md`
   - 토론 개요
   - 참여 팀
   - 결정 사항 요약

2. `docs/discussions/[의제명]/minutes.md`
   - 1차 의견 전문
   - 크로스 리뷰 내용
   - 충돌 분석

3. `docs/discussions/[의제명]/action-items.md`
   - 후속 조치 목록
   - 담당자/기한

### 7단계: Todo 목록 생성

TodoWrite 도구를 사용하여 후속 조치를 작업 목록으로 생성하세요.

---

## 주의사항

- 각 팀 Agent는 반드시 **병렬로** 실행하세요
- 충돌 분석은 객관적으로 수행하세요
- 크로스 리뷰에서 건설적인 피드백을 유도하세요
- 합의에 도달하지 못한 사항은 명확히 기록하세요
- 한국어로 문서를 작성하세요

---

## 참여 팀 매핑 (자동 추천)

| 결정 유형 | 자동 포함 팀 |
|----------|-------------|
| 기술 결정 | CTO, Backend, Frontend, DevOps, Security |
| 제품 결정 | CPO, PM, UX-UI, Design |
| 운영 결정 | COO, DevOps, SRE, Infra |
| 보안 결정 | CISO, Security, Backend, DevOps |
| 데이터 결정 | CDO, Data/AI, DBA, Backend |
| 인프라 결정 | CTO, DevOps, Infra, SRE |
| 긴급 결정 | CEO, CTO, COO + 관련 팀 |

---

## 예시

### 입력
```
/team-discussion 마이크로서비스 전환 여부
```

### 출력 구조
```
docs/discussions/microservice-migration/
├── README.md          # 토론 개요 및 결정 사항
├── minutes.md         # 상세 회의록
└── action-items.md    # 후속 조치 목록
```
